import dotenv from "dotenv";
import nodemailer from "nodemailer";

dotenv.config();

export const mailSender = async (email, subject, message) => {
  try {
    let transporter = nodemailer.createTransport({
      host: process.env.MAIL_HOST,
      auth: {
        user: process.env.MAIL_USER,
        pass: process.env.MAIL_PASS,
      },
    });
    let info = await transporter.sendMail({
      from: process.env.MAIL_USER,
      to: email,
      subject: subject,
      html: message,
      attachments: [{
        path: "data:image/png;base64,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",
        cid: 'flami@flami-app'
      }]
    });
    return info;
  } catch (error) {
    console.log(error.message);
  }
};
